# Cursor Rules for nsql-cli

## Commit Message Format

**ALWAYS use Conventional Commits format for all commit messages in this repository.**

### Required Format

```
<type>(<scope>): <subject>

<body>

<footer>
```

### Commit Types

Use one of these types:

- `feat`: New feature (triggers minor version bump)
- `fix`: Bug fix (triggers patch version bump)
- `docs`: Documentation changes
- `style`: Code style changes (formatting, etc.)
- `refactor`: Code refactoring
- `perf`: Performance improvements
- `test`: Adding or updating tests
- `build`: Build system changes
- `ci`: CI configuration changes
- `chore`: Other changes

### Breaking Changes

For major version bumps, use:

- `feat!:` or `fix!:` or `refactor!:` etc. (with exclamation mark)
- Include `BREAKING CHANGE:` in the footer

### Examples

✅ **Good:**

- `feat: add support for custom query parameters`
- `fix: resolve authentication timeout issue`
- `docs: update installation instructions`
- `feat!: change default output format`

❌ **Bad:**

- `Update code`
- `Fixed bug`
- `WIP: working on feature`
- `Add new stuff`

### Line Length Rules

- **Subject line**: Maximum 72 characters (recommended, not enforced by commitlint)
- **Body lines**: Maximum 100 characters per line (enforced by commitlint)
- Break long lines in the body to stay under 100 characters
- Use multiple lines for long descriptions

### When Creating Commits

1. **Always** use the conventional commit format
2. **Always** check that body lines are under 100 characters
3. **Always** validate the commit message before committing using commitlint
4. If the user asks for a commit without specifying format, **remind them** to use conventional commits
5. **Never** create commits with messages like "update", "fix", "changes" without proper type prefix
6. **Never** create commit messages with body lines longer than 100 characters

### Validation

Before committing, validate the message:

```bash
echo "your commit message" | npx commitlint
```

Or use:

```bash
npm run commitlint
```

**Important**: commitlint will fail if any body line exceeds 100 characters. Always break long lines into multiple lines.

## Code Style

- Follow existing code patterns
- Use meaningful variable names
- Add comments for complex logic
- Keep functions focused

## Testing

- Always run tests before committing: `npm test`
- New features must include tests
- Ensure all tests pass before creating PRs
